<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #products {
            margin: 5% 5% 10% 5%;
            border: 1px soid black;
            height: 600px;

            display: grid;
            grid-template-columns: 20% 20% 20% 20%;
            gap: 5%;
            justify-content: center;

        }

        img {
            width: 80%;
        }
    </style>
</head>

<body>

    <h1>LocalStorage</h1>

    <div><a href="cart.html">Go to Cart</a></div>

    <div id="products"></div>    

    <script>

        // array of objects

        let data = [
            {
                name: "shoes",
                price: "2000",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.sweatband.com%2Fasics_gel-zaraca_4_mens_running_shoes_ss16_asics_gel-zaraca_4_mens_running_shoes-blue-silver-black_angle_view_2000x2000.jpg&f=1&nofb=1",
            },
            {
                name: "Football",
                price: "1347",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pixel4k.com%2Fwp-content%2Fuploads%2F2018%2F10%2Fsoccer-ball-football-lawn-grass-4k_1540063065.jpg&f=1&nofb=1",
            },
            {
                name: "Watch",
                price: "9999",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftimeandtidewatches.com%2Fwp-content%2Fuploads%2F2014%2F09%2FMANOFSTEELHaighHastingsWatch-M2-Diver.jpeg&f=1&nofb=1",
            },
            {
                name: "shoes",
                price: "2000",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.sweatband.com%2Fasics_gel-zaraca_4_mens_running_shoes_ss16_asics_gel-zaraca_4_mens_running_shoes-blue-silver-black_angle_view_2000x2000.jpg&f=1&nofb=1",
            },
            {
                name: "Football",
                price: "1347",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pixel4k.com%2Fwp-content%2Fuploads%2F2018%2F10%2Fsoccer-ball-football-lawn-grass-4k_1540063065.jpg&f=1&nofb=1",
            },
            {
                name: "Watch",
                price: "9999",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftimeandtidewatches.com%2Fwp-content%2Fuploads%2F2014%2F09%2FMANOFSTEELHaighHastingsWatch-M2-Diver.jpeg&f=1&nofb=1",
            },
            {
                name: "shoes",
                price: "2000",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.sweatband.com%2Fasics_gel-zaraca_4_mens_running_shoes_ss16_asics_gel-zaraca_4_mens_running_shoes-blue-silver-black_angle_view_2000x2000.jpg&f=1&nofb=1",
            },
            {
                name: "Football",
                price: "1347",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pixel4k.com%2Fwp-content%2Fuploads%2F2018%2F10%2Fsoccer-ball-football-lawn-grass-4k_1540063065.jpg&f=1&nofb=1",
            },
            {
                name: "Watch",
                price: "9999",
                img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftimeandtidewatches.com%2Fwp-content%2Fuploads%2F2014%2F09%2FMANOFSTEELHaighHastingsWatch-M2-Diver.jpeg&f=1&nofb=1",
            },
        ];


        // 1. Run a forEach loop on products data nad console.log names
        // 2. append this data to DOM
        // 2.1 createElement

        let parent = document.getElementById('products');

        function showProducts(){

        data.forEach(function (product) {
            console.log(product.name);

            let div = document.createElement('div');            
            let img = document.createElement('img');
                img.src = product.img;

            let product_price = document.createElement('p');
                product_price.textContent = product.price;

            let product_name = document.createElement('p');
                product_name.textContent = product.name;


            let addToCart_btn = document.createElement('button');
                addToCart_btn.innerText = 'Add to Card';

                addToCart_btn.onclick = function(){
                    addToCart(product);
                }

            div.append(img, product_name, product_price, addToCart_btn);

            parent.append(div);
            
        });
    
        }

        showProducts();

        // check if cart exists in localstorage

        // console.log(localStorage.getItem('cart'));
        if(localStorage.getItem('cart') === null){
            localStorage.setItem('cart', JSON.stringify([]));
        }

        function addToCart(product){            
            // console.log(product);
            let products_cart = JSON.parse(localStorage.getItem('cart'));
           
            products_cart.push(product);
            localStorage.setItem('cart', JSON.stringify(products_cart));

            console.log("products_cart : ", products_cart);
        }

    </script>

</body>

</html>